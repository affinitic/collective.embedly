*** Settings ***

Library  Selenium2Library  timeout=15  implicit_wait=0.5
Library  collective.embedly.testing_keywords.Keywords

Resource  plone/act/keywords.txt
#Resource  collection_keywords.txt

Variables  plone/app/testing/interfaces.py

#Suite Setup  Suite Setup
#Suite Teardown  Suite Teardown

Suite Setup  Open browser  ${front-page}

Suite Teardown  Close All Browsers


*** Variables ***

${front-page}  http://localhost:55001/plone/
${test-folder}  http://localhost:55001/plone/acceptance-test-folder

${PORT} =  55001
${ZOPE_URL} =  http://localhost:${PORT}
${PLONE_URL} =  ${ZOPE_URL}/plone
${BROWSER} =  Firefox


*** Test Cases ***

Test Create Embedly Page
    Log in as site owner
    Go to  ${front-page}
    Add page  Embedly Page
    Click Edit In Edit Bar
#    selenium.type("dom=document.getElementById('text_ifr').contentDocument.body",'Test Embedly Text')
#    Input text  dom=document.getElementById('text_ifr').contentDocument.body  Test Embedly Text
    Click Link  Edit without visual editor
    Input text  text  Test Embedly Text
    Click button  name=form.button.save
    Page Should Contain  Test Embedly Text
    Click Edit In Edit Bar
    Click Link  Edit without visual editor
    Input text  text  <a class="embedlylink external-link" href="http://www.youtube.com/watch?v=LBDtqdOG4Uc">Demo Video file from YouTube.</a>
    Page Should Not Contain  Demo Video file from YouTube.
    Logout

